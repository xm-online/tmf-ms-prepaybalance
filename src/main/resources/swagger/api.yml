openapi: 3.0.1
info:
  title: Prepay Balance Management
  description: This is a sample representation of the Prepay Balance Management TMForum
    API. It is important to bear in mind that swagger 2.0 does not properly support
    polymorphism, so the link between the payment method details and its data types
    should be looked up in the API specification pdf file.
  version: 2.0.4
servers:
  - url: https://serverRoot/tmf-api/prepayBalanceManagement/v2
tags:
  - name: Balance Buckets Methods
    description: To be used typically by privileged users
  - name: Accumulated Balances Methods
    description: To be used typically by final users
  - name: Balance Activity Methods
    description: To be used typically by final users
  - name: Balance TopUps Methods
    description: To be used typically by final users
  - name: Balance Transfers Methods
    description: To be used typically by final users
  - name: Balance Adjustments Methods
    description: To be used typically by final users
  - name: Balance Reserve Methods
    description: To be used typically by final users
  - name: Balance Unreserve Methods
    description: To be used typically by final users
  - name: Balance Deduct Methods
    description: To be used typically by final users
  - name: API Notification
    description: To be used typically by final users
paths:
  /bucket:
    get:
      tags:
        - Balance Buckets Methods
      summary: Retrieve balance information stored in the server that can be filtered
        for specific criteria.
      operationId: retrieveBuckets
      parameters:
        - name: product.id
          in: query
          description: Id of the product
          required: true
          schema:
            type: string
      responses:
        200:
          description: Balance information was returned successfully
          headers:
            X-Total-Count:
              description: Total results
              schema:
                type: integer
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/BucketBalance'
        400:
          description: Request Error
          content: {}
        401:
          description: Unauthorized
          content: {}
        403:
          description: Forbidden
          content: {}
        405:
          description: Method not Allowed
          content: {}
        500:
          description: The server encountered an unexpected condition which prevented
            it from fulfilling the request
          content: {}
  /bucket/{bucketId}:
    get:
      tags:
        - Balance Buckets Methods
      summary: Retrieve balance information stored in the server for a specific bucket.
      operationId: retrieveBucket
      parameters:
        - name: bucketId
          in: path
          description: Id of the bucket to fetch
          required: true
          schema:
            type: string
      responses:
        200:
          description: Balance information was returned successfully
          headers:
            X-Total-Count:
              description: Total results
              schema:
                type: integer
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/BucketBalance'
        400:
          description: Request Error
          content: {}
        401:
          description: Unauthorized
          content: {}
        403:
          description: Forbidden
          content: {}
        404:
          description: Not Found
          content: {}
        405:
          description: Method not Allowed
          content: {}
        500:
          description: The server encountered an unexpected condition which prevented
            it from fulfilling the request
          content: {}
  /product/{productId}/bucket:
    get:
      tags:
        - Balance Buckets Methods
      summary: Retrieve balance information stored in the server that can be filtered
        for specific criteria.
      operationId: retrieveBucketsOfProduct
      parameters:
        - name: bucketType
          in: query
          description: Description of the bucket type
          schema:
            type: string
        - name: productId
          in: path
          description: Id of the product
          required: true
          schema:
            type: string
      responses:
        200:
          description: Balance information was returned successfully
          headers:
            X-Total-Count:
              description: Total results
              schema:
                type: integer
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/BucketBalance'
        400:
          description: Request Error
          content: {}
        401:
          description: Unauthorized
          content: {}
        403:
          description: Forbidden
          content: {}
        405:
          description: Method not Allowed
          content: {}
        500:
          description: The server encountered an unexpected condition which prevented
            it from fulfilling the request
          content: {}
  /product/{productId}/bucket/{bucketId}:
    get:
      tags:
        - Balance Buckets Methods
      summary: Retrieve balance information stored in the server for a specific bucket.
      operationId: retrieveBucketofproduct
      parameters:
        - name: bucketId
          in: path
          description: Id of the bucket to fetch
          required: true
          schema:
            type: string
        - name: productId
          in: path
          description: Id of the bucket to fetch
          required: true
          schema:
            type: string
      responses:
        200:
          description: Balance information was returned successfully
          headers:
            X-Total-Count:
              description: Total results
              schema:
                type: integer
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/BucketBalance'
        400:
          description: Request Error
          content: {}
        401:
          description: Unauthorized
          content: {}
        403:
          description: Forbidden
          content: {}
        404:
          description: Not Found
          content: {}
        405:
          description: Method not Allowed
          content: {}
        500:
          description: The server encountered an unexpected condition which prevented
            it from fulfilling the request
          content: {}
  /accumulatedbalance:
    get:
      tags:
        - Accumulated Balances Methods
      summary: retrieve total balance information for an aggregation of a set of buckets
      operationId: retrieveAccumulatedBalance
      parameters:
        - name: name
          in: query
          description: Id of the product
          required: true
          schema:
            type: string
        - name: product.id
          in: query
          description: Id of the product
          required: true
          schema:
            type: string
      responses:
        200:
          description: Balance information was returned successfully
          headers:
            X-Total-Count:
              description: Total results
              schema:
                type: integer
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/AccumulatedBalance'
        400:
          description: Request Error
          content: {}
        401:
          description: Unauthorized
          content: {}
        403:
          description: Forbidden
          content: {}
        405:
          description: Method not Allowed
          content: {}
        500:
          description: The server encountered an unexpected condition which prevented
            it from fulfilling the request
          content: {}
  /accumulatedbalance/{productId}:
    get:
      tags:
        - Accumulated Balances Methods
      summary: retrieve total balance information for an aggregation of a set of buckets
      operationId: retrieveAccumulatedBalanceOfProduct
      parameters:
        - name: name
          in: query
          required: true
          schema:
            type: string
        - name: productId
          in: path
          required: true
          schema:
            type: string
      responses:
        200:
          description: Balance information was returned successfully
          headers:
            X-Total-Count:
              description: Total results
              schema:
                type: integer
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/AccumulatedBalance'
        400:
          description: Request Error
          content: {}
        401:
          description: Unauthorized
          content: {}
        403:
          description: Forbidden
          content: {}
        404:
          description: Not Found
          content: {}
        405:
          description: Method not Allowed
          content: {}
        500:
          description: The server encountered an unexpected condition which prevented
            it from fulfilling the request
          content: {}
  /balanceActivity:
    get:
      tags:
        - Balance Activity Methods
      summary: retrieve total balance information for an aggregation of a set of buckets
      operationId: retrieveBalanceActivityOfProduct
      parameters:
        - name: prod.id
          in: query
          required: true
          schema:
            type: string
        - name: type
          in: query
          schema:
            type: string
      responses:
        200:
          description: Balance information was returned successfully
          headers:
            X-Total-Count:
              description: Total results
              schema:
                type: integer
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/BalanceActivity'
        400:
          description: Request Error
          content: {}
        401:
          description: Unauthorized
          content: {}
        403:
          description: Forbidden
          content: {}
        405:
          description: Method not Allowed
          content: {}
        500:
          description: The server encountered an unexpected condition which prevented
            it from fulfilling the request
          content: {}
  /product/{productId}/balanceActivity:
    get:
      tags:
        - Balance Activity Methods
      summary: retrieve total balance information for an aggregation of a set of buckets
      operationId: retrieveBalanceActivityProduct
      parameters:
        - name: productId
          in: path
          required: true
          schema:
            type: string
        - name: type
          in: query
          schema:
            type: string
      responses:
        200:
          description: Balance information was returned successfully
          headers:
            X-Total-Count:
              description: Total results
              schema:
                type: integer
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/BalanceActivity'
        400:
          description: Request Error
          content: {}
        401:
          description: Unauthorized
          content: {}
        403:
          description: Forbidden
          content: {}
        405:
          description: Method not Allowed
          content: {}
        500:
          description: The server encountered an unexpected condition which prevented
            it from fulfilling the request
          content: {}
  /balanceTopup:
    get:
      tags:
        - Balance TopUps Methods
      summary: retrieve the list of top-up operations requested for a given product
        product (or commercial id reference to a product), filtered by given criteria.
        The response includes the details of all top-ups operations requested.
      operationId: retrieveListTopUpOperations
      parameters:
        - name: product.id
          in: query
          required: true
          schema:
            type: string
        - name: channel
          in: query
          schema:
            type: string
      responses:
        200:
          description: TopUp request information was returned successfully
          headers:
            X-Total-Count:
              description: Total results
              schema:
                type: integer
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/BalanceTopupRequest'
        400:
          description: Request Error
          content: {}
        401:
          description: Unauthorized
          content: {}
        403:
          description: Forbidden
          content: {}
        405:
          description: Method not Allowed
          content: {}
        500:
          description: The server encountered an unexpected condition which prevented
            it from fulfilling the request
          content: {}
    post:
      tags:
        - Balance TopUps Methods
      summary: Create a new top-up operation for a given product (or commercial id
        reference to a product) instance consuming the credit held in a bucket for
        a specific service) .
      operationId: createNewTopup
      requestBody:
        description: The Topup to be created.
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/BalanceTopupBody'
        required: true
      responses:
        201:
          description: Successful top-up operation request (resource created)
          headers:
            location:
              description: Location where to query the created topup
              schema:
                type: string
          content: {}
        400:
          description: Bad Request
          content: {}
        401:
          description: Unauthorized
          content: {}
        403:
          description: Forbidden
          content: {}
        404:
          description: Not Found
          content: {}
        405:
          description: Method not Allowed
          content: {}
        409:
          description: Conflict
          content: {}
        500:
          description: Internal Server Error
          content: {}
      x-codegen-request-body-name: TopupBody
  /{idProduct}/balanceTopup:
    post:
      tags:
        - Balance TopUps Methods
      summary: Create a new top-up operation for a given product (or commercial id
        reference to a product) instance consuming the credit held in a bucket for
        a specific service) .
      operationId: createNewTopupOfProduct
      parameters:
        - name: idProduct
          in: path
          description: The id to be created.
          required: true
          schema:
            type: string
      requestBody:
        description: The Topup to be created.
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/BalanceTopupBody'
        required: true
      responses:
        201:
          description: Successful top-up operation request (resource created)
          headers:
            location:
              description: Location where to query the created topup
              schema:
                type: string
          content: {}
        400:
          description: Bad Request
          content: {}
        401:
          description: Unauthorized
          content: {}
        403:
          description: Forbidden
          content: {}
        404:
          description: Not Found
          content: {}
        405:
          description: Method not Allowed
          content: {}
        409:
          description: Conflict
          content: {}
        500:
          description: Internal Server Error
          content: {}
      x-codegen-request-body-name: TopupBody
  /product/{productId}/balanceTopups:
    get:
      tags:
        - Balance TopUps Methods
      summary: retrieve detailed information about a single top-up operation previously
        processed by the server.
      operationId: retrieveTopupByProduct
      parameters:
        - name: productId
          in: path
          required: true
          schema:
            type: string
      responses:
        200:
          description: information successfully retrieved
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/BalanceTopupRequest'
        400:
          description: Request Error
          content: {}
        401:
          description: Unauthorized
          content: {}
        403:
          description: Forbidden
          content: {}
        405:
          description: Method not Allowed
          content: {}
        500:
          description: The server encountered an unexpected condition which prevented
            it from fulfilling the request
          content: {}
  /balanceTopup/{topupId}:
    get:
      tags:
        - Balance TopUps Methods
      summary: retrieve detailed information about a single top-up operation previously
        processed by the server.
      operationId: retrieveTopup
      parameters:
        - name: topupId
          in: path
          required: true
          schema:
            type: string
      responses:
        200:
          description: information successfully retrieved
          headers:
            X-Total-Count:
              description: Total results
              schema:
                type: integer
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/BalanceTopupRequest'
        400:
          description: Request Error
          content: {}
        401:
          description: Unauthorized
          content: {}
        403:
          description: Forbidden
          content: {}
        404:
          description: Not Found
          content: {}
        405:
          description: Method not Allowed
          content: {}
        500:
          description: The server encountered an unexpected condition which prevented
            it from fulfilling the request
          content: {}
  /balanceTopup/{topupId}/status:
    get:
      tags:
        - Balance TopUps Methods
      summary: retrieve detailed information about a single top-up operation previously
        processed by the server.
      operationId: retrieveTopupStatus
      parameters:
        - name: topupId
          in: path
          required: true
          schema:
            type: string
      responses:
        200:
          description: information successfully retrieved
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/BalanceTopupStatusType'
        400:
          description: Request Error
          content: {}
        401:
          description: Unauthorized
          content: {}
        403:
          description: Forbidden
          content: {}
        405:
          description: Method not Allowed
          content: {}
        500:
          description: The server encountered an unexpected condition which prevented
            it from fulfilling the request
          content: {}
    put:
      tags:
        - Balance TopUps Methods
      summary: Update the information about a single top-up operation previously processed
        by the server.
      operationId: ModifyTopupStatus
      parameters:
        - name: topupId
          in: path
          required: true
          schema:
            type: string
      requestBody:
        description: The Topup to be modify.
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/BalanceTopupStatusTypeModify'
        required: true
      responses:
        204:
          description: Successful status modification
          content: {}
        400:
          description: Bad Request
          content: {}
        401:
          description: Unauthorized
          content: {}
        403:
          description: Forbidden
          content: {}
        404:
          description: Not Found
          content: {}
        405:
          description: Method not Allowed
          content: {}
        409:
          description: Conflict
          content: {}
        500:
          description: Internal Server Error
          content: {}
      x-codegen-request-body-name: TopupBody
  /product/{productId}/balanceTopup/{topupId}/status:
    get:
      tags:
        - Balance TopUps Methods
      summary: retrieve detailed information about a single top-up operation previously
        processed by the server.
      operationId: retrieveTopupStatusProduct
      parameters:
        - name: productId
          in: path
          required: true
          schema:
            type: string
        - name: topupId
          in: path
          required: true
          schema:
            type: string
      responses:
        200:
          description: information successfully retrieved
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/BalanceTopupStatusType'
        400:
          description: Request Error
          content: {}
        401:
          description: Unauthorized
          content: {}
        403:
          description: Forbidden
          content: {}
        405:
          description: Method not Allowed
          content: {}
        500:
          description: The server encountered an unexpected condition which prevented
            it from fulfilling the request
          content: {}
    put:
      tags:
        - Balance TopUps Methods
      summary: Update the information about a single top-up operation previously processed
        by the server.
      operationId: ModifyTopupStatusProduct
      parameters:
        - name: productId
          in: path
          required: true
          schema:
            type: string
        - name: topupId
          in: path
          required: true
          schema:
            type: string
      requestBody:
        description: The Topup to be modify.
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/BalanceTopupStatusTypeModify'
        required: true
      responses:
        204:
          description: Successful status modification
          content: {}
        400:
          description: Bad Request
          content: {}
        401:
          description: Unauthorized
          content: {}
        403:
          description: Forbidden
          content: {}
        404:
          description: Not Found
          content: {}
        405:
          description: Method not Allowed
          content: {}
        409:
          description: Conflict
          content: {}
        500:
          description: Internal Server Error
          content: {}
      x-codegen-request-body-name: TopupBody
  /balanceTransfer:
    get:
      tags:
        - Balance Transfers Methods
      summary: retrieve detailed information about a single top-up operation previously
        processed by the server.
      operationId: retrieveTransferOperations
      parameters:
        - name: product.id
          in: query
          required: true
          schema:
            type: string
      responses:
        200:
          description: information successfully retrieved
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/BalanceTransferRequest'
        400:
          description: Request Error
          content: {}
        401:
          description: Unauthorized
          content: {}
        403:
          description: Forbidden
          content: {}
        405:
          description: Method not Allowed
          content: {}
        500:
          description: The server encountered an unexpected condition which prevented
            it from fulfilling the request
          content: {}
    post:
      tags:
        - Balance Transfers Methods
      summary: request a new transfer operation for a given product (or commercial
        id reference to a product instance consuming the credit held in a bucket for
        a specific service).
      operationId: createTransfer
      requestBody:
        description: The Transfer to be modify.
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/BalanceTransferBody'
        required: true
      responses:
        201:
          description: Transfer operation successful (resource created)
          headers:
            location:
              description: Location where to query the created transfer
              schema:
                type: string
          content: {}
        400:
          description: Bad Request
          content: {}
        401:
          description: Unauthorized
          content: {}
        403:
          description: Forbidden
          content: {}
        404:
          description: Not Found
          content: {}
        405:
          description: Method not Allowed
          content: {}
        409:
          description: Conflict
          content: {}
        500:
          description: Internal Server Error
          content: {}
      x-codegen-request-body-name: TransferBody
  /{productId}/balanceTransfer:
    post:
      tags:
        - Balance Transfers Methods
      summary: request a new transfer operation for a given product (or commercial
        id reference to a product instance consuming the credit held in a bucket for
        a specific service).
      operationId: createTransferProduct
      parameters:
        - name: productId
          in: path
          required: true
          schema:
            type: string
      requestBody:
        description: The Transfer to be modify.
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/BalanceTransferBody'
        required: true
      responses:
        201:
          description: Transfer operation successful (resource created)
          headers:
            location:
              description: Location where to query the created transfer
              schema:
                type: string
          content: {}
        400:
          description: Bad Request
          content: {}
        401:
          description: Unauthorized
          content: {}
        403:
          description: Forbidden
          content: {}
        404:
          description: Not Found
          content: {}
        405:
          description: Method not Allowed
          content: {}
        409:
          description: Conflict
          content: {}
        500:
          description: Internal Server Error
          content: {}
      x-codegen-request-body-name: TransferBody
  /product/{productId}/balanceTransfer:
    get:
      tags:
        - Balance Transfers Methods
      summary: retrieve detailed information about a single top-up operation previously
        processed by the server.
      operationId: retrieveTransferOperationsProduct
      parameters:
        - name: productId
          in: path
          required: true
          schema:
            type: string
      responses:
        200:
          description: information successfully retrieved
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/BalanceTransferRequest'
        400:
          description: Request Error
          content: {}
        401:
          description: Unauthorized
          content: {}
        403:
          description: Forbidden
          content: {}
        405:
          description: Method not Allowed
          content: {}
        500:
          description: The server encountered an unexpected condition which prevented
            it from fulfilling the request
          content: {}
  /balanceTransfer/{transferId}:
    get:
      tags:
        - Balance Transfers Methods
      summary: retrieve detailed information about a single top-up operation previously
        processed by the server.
      operationId: retrieveTransferInformation
      parameters:
        - name: transferId
          in: path
          required: true
          schema:
            type: string
      responses:
        200:
          description: Transfer information was returned successfully
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/BalanceTransferRequest'
        400:
          description: Request Error
          content: {}
        401:
          description: Unauthorized
          content: {}
        403:
          description: Forbidden
          content: {}
        404:
          description: Not Found
          content: {}
        405:
          description: Method not Allowed
          content: {}
        500:
          description: The server encountered an unexpected condition which prevented
            it from fulfilling the request
          content: {}
  /balanceTransfer/{transferId}/status:
    get:
      tags:
        - Balance Transfers Methods
      summary: 'request the the status of a transfer operation previously processed
        by the server and if it status has been changed (i.e.: it has been cancelled)
        the date of the latest status change.'
      operationId: retrieveTransferStatus
      parameters:
        - name: transferId
          in: path
          required: true
          schema:
            type: string
      responses:
        200:
          description: information successfully retrieved
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/BalanceTransferRequest'
        400:
          description: Request Error
          content: {}
        401:
          description: Unauthorized
          content: {}
        403:
          description: Forbidden
          content: {}
        405:
          description: Method not Allowed
          content: {}
        500:
          description: The server encountered an unexpected condition which prevented
            it from fulfilling the request
          content: {}
    put:
      tags:
        - Balance Transfers Methods
      summary: modify the status of a balance transfer operation previously processed
        by the server. This could be used to cancel an existing transfer operation.
      operationId: ModifyTransferStatus
      parameters:
        - name: transferId
          in: path
          required: true
          schema:
            type: string
      requestBody:
        description: The transfer to be modify.
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/BalanceTransferStatusTypeModify'
        required: true
      responses:
        204:
          description: Successful status modification
          content: {}
        400:
          description: Bad Request
          content: {}
        401:
          description: Unauthorized
          content: {}
        403:
          description: Forbidden
          content: {}
        404:
          description: Not Found
          content: {}
        405:
          description: Method not Allowed
          content: {}
        409:
          description: Conflict
          content: {}
        500:
          description: Internal Server Error
          content: {}
      x-codegen-request-body-name: TransferStatusBody
  /balanceAdjustment:
    get:
      tags:
        - Balance Adjustments Methods
      summary: Retrieve the list of adjustment operations requested for a given product
        (or commercial id reference to a product), filtered by given criteria. The
        response includes the details of all balance adjustment operations requested
      operationId: retrieveAdjustmentOperations
      parameters:
        - name: product.id
          in: query
          required: true
          schema:
            type: string
      responses:
        200:
          description: information successfully retrieved
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/BalanceAdjustmentRequest'
        400:
          description: Request Error
          content: {}
        401:
          description: Unauthorized
          content: {}
        403:
          description: Forbidden
          content: {}
        405:
          description: Method not Allowed
          content: {}
        500:
          description: The server encountered an unexpected condition which prevented
            it from fulfilling the request
          content: {}
    post:
      tags:
        - Balance Adjustments Methods
      summary: Perform a balance adjustment for a given bucket on a product (or commercial
        id reference to a product instance consuming the credit held in a bucket for
        a specific service).
      operationId: CreateAdjustment
      requestBody:
        description: The Adjustment to be created.
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/BalanceAdjustmentBody'
        required: true
      responses:
        201:
          description: Successful adjustment operation (resource created)
          headers:
            location:
              description: Location where to query the created transfer
              schema:
                type: string
          content: {}
        400:
          description: Bad Request
          content: {}
        401:
          description: Unauthorized
          content: {}
        403:
          description: Forbidden
          content: {}
        404:
          description: Not Found
          content: {}
        405:
          description: Method not Allowed
          content: {}
        409:
          description: Conflict
          content: {}
        500:
          description: Internal Server Error
          content: {}
      x-codegen-request-body-name: AdjustmentBody
  /product/{productId}/balanceAdjustment:
    get:
      tags:
        - Balance Adjustments Methods
      summary: Retrieve the list of adjustment operations requested for a given product
        (or commercial id reference to a product), filtered by given criteria. The
        response includes the details of all balance adjustment operations requested
      operationId: retrieveAdjustmentOperationsProduct
      parameters:
        - name: productId
          in: path
          required: true
          schema:
            type: string
      responses:
        200:
          description: information successfully retrieved
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/BalanceAdjustmentRequest'
        400:
          description: Request Error
          content: {}
        401:
          description: Unauthorized
          content: {}
        403:
          description: Forbidden
          content: {}
        405:
          description: Method not Allowed
          content: {}
        500:
          description: The server encountered an unexpected condition which prevented
            it from fulfilling the request
          content: {}
    post:
      tags:
        - Balance Adjustments Methods
      summary: Perform a balance adjustment for a given bucket on a product (or commercial
        id reference to a product instance consuming the credit held in a bucket for
        a specific service).
      operationId: CreateAdjustmentProduct
      parameters:
        - name: productId
          in: path
          required: true
          schema:
            type: string
      requestBody:
        description: The Adjustment to be created.
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/BalanceAdjustmentBody'
        required: true
      responses:
        201:
          description: Successful adjustment operation (resource created)
          headers:
            location:
              description: Location where to query the created transfer
              schema:
                type: string
          content: {}
        400:
          description: Bad Request
          content: {}
        401:
          description: Unauthorized
          content: {}
        403:
          description: Forbidden
          content: {}
        404:
          description: Not Found
          content: {}
        405:
          description: Method not Allowed
          content: {}
        409:
          description: Conflict
          content: {}
        500:
          description: Internal Server Error
          content: {}
      x-codegen-request-body-name: AdjustmentBody
  /balanceAdjustment/{adjustmentId}:
    get:
      tags:
        - Balance Adjustments Methods
      summary: Retrieve detailed information about a single adjustment operation previously
        processed by the server.
      operationId: retrieveAdjustment
      parameters:
        - name: adjustmentId
          in: path
          required: true
          schema:
            type: string
      responses:
        200:
          description: information successfully retrieved
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/BalanceAdjustmentRequest'
        400:
          description: Request Error
          content: {}
        401:
          description: Unauthorized
          content: {}
        403:
          description: Forbidden
          content: {}
        404:
          description: Not Found
          content: {}
        405:
          description: Method not Allowed
          content: {}
        500:
          description: The server encountered an unexpected condition which prevented
            it from fulfilling the request
          content: {}
  /product/{productId}/balanceAdjustment/{adjustmentId}:
    get:
      tags:
        - Balance Adjustments Methods
      summary: Retrieve detailed information about a single adjustment operation previously
        processed by the server.
      operationId: retrieveAdjustmentProduct
      parameters:
        - name: productId
          in: path
          required: true
          schema:
            type: string
        - name: adjustmentId
          in: path
          required: true
          schema:
            type: string
      responses:
        200:
          description: information successfully retrieved
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/BalanceAdjustmentRequest'
        400:
          description: Request Error
          content: {}
        401:
          description: Unauthorized
          content: {}
        403:
          description: Forbidden
          content: {}
        404:
          description: Not Found
          content: {}
        405:
          description: Method not Allowed
          content: {}
        500:
          description: The server encountered an unexpected condition which prevented
            it from fulfilling the request
          content: {}
  /balanceReserve:
    post:
      tags:
        - Balance Reserve Methods
      summary: Balance reserve operations processed for a given bucket.
      operationId: CreateReserveOperation
      requestBody:
        description: The Adjustment to be created.
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/BalanceReserveBody'
        required: true
      responses:
        201:
          description: Successful balance reserve operation request (resource created)
          headers:
            location:
              description: Location where to query the created object
              schema:
                type: string
          content: {}
        400:
          description: Bad Request
          content: {}
        401:
          description: Unauthorized
          content: {}
        403:
          description: Forbidden
          content: {}
        404:
          description: Not Found
          content: {}
        405:
          description: Method not Allowed
          content: {}
        409:
          description: Conflict
          content: {}
        500:
          description: Internal Server Error
          content: {}
      x-codegen-request-body-name: reserveBody
  /balanceUnreserve:
    post:
      tags:
        - Balance Unreserve Methods
      summary: Balance unreserve operations processed for a given bucket.
      operationId: CreateUnreserveOperation
      requestBody:
        description: The Adjustment to be created.
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/BalanceUnreserveBody'
        required: true
      responses:
        201:
          description: Successful balance unreserve operation request (resource created)
          headers:
            location:
              description: Location where to query the created transfer
              schema:
                type: string
          content: {}
        400:
          description: Bad Request
          content: {}
        401:
          description: Unauthorized
          content: {}
        403:
          description: Forbidden
          content: {}
        404:
          description: Not Found
          content: {}
        405:
          description: Method not Allowed
          content: {}
        409:
          description: Conflict
          content: {}
        500:
          description: Internal Server Error
          content: {}
      x-codegen-request-body-name: reserveBody
  /balanceDeduct:
    post:
      tags:
        - Balance Deduct Methods
      summary: Deduct balance amount stored in the server for a specific bucket under
        a product referenced by a product id of an individual asset created (e.g.
        license id for a TV service) or commercial identifier based on the value of
        a resource created under the product (i.e. MSISDN) that maps to an internal
        product id.
      operationId: DeductBalanceAmount
      requestBody:
        description: The Adjustment to be created.
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/BalanceDeductBody'
        required: true
      responses:
        201:
          description: Balance deduct successfully
          headers:
            location:
              description: Location where to query the created transfer
              schema:
                type: string
          content: {}
        400:
          description: Bad Request
          content: {}
        401:
          description: Unauthorized
          content: {}
        403:
          description: Forbidden
          content: {}
        404:
          description: Not Found
          content: {}
        405:
          description: Method not Allowed
          content: {}
        409:
          description: Conflict
          content: {}
        500:
          description: Internal Server Error
          content: {}
      x-codegen-request-body-name: DeductBalanceBody
  /hub:
    post:
      tags:
        - API Notification
      summary: Sets the communication endpoint address the service instance must use
        to deliver information about its health state, execution state, failures and
        metrics. Subsequent POST calls will be rejected by the service if it does
        not support multiple listeners. In this case DELETE /api/hub/{id} must be
        called before an endpoint can be created again.
      operationId: createNotification
      requestBody:
        description: The Notification to be created.
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/NotificationRequest'
        required: true
      responses:
        201:
          description: Created
          headers:
            location:
              description: Location where to query the created transfer
              schema:
                type: string
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/NotificationResponse'
        400:
          description: Bad Request
          content: {}
        401:
          description: Unauthorized
          content: {}
        403:
          description: Forbidden
          content: {}
        404:
          description: Not Found
          content: {}
        405:
          description: Method not Allowed
          content: {}
        409:
          description: Conflict
          content: {}
        500:
          description: Internal Server Error
          content: {}
      x-codegen-request-body-name: NotificationBody
  /hub/{id}:
    delete:
      tags:
        - API Notification
      summary: Clears the communication endpoint address that was set by creating
        the Hub.
      operationId: deleteNotification
      parameters:
        - name: id
          in: path
          required: true
          schema:
            type: string
      responses:
        204:
          description: Notification deleted successfully
          content: {}
        400:
          description: Bad Request
          content: {}
        401:
          description: Unauthorized
          content: {}
        403:
          description: Forbidden
          content: {}
        404:
          description: Not Found
          content: {}
        405:
          description: Method not Allowed
          content: {}
        409:
          description: Conflict
          content: {}
        500:
          description: Internal Server Error
          content: {}
  /client/listener:
    post:
      tags:
        - API Notification
      summary: Clears the communication endpoint address that was set by creating
        the Hub. Provides to a registered listener the description of the event that
        was raised. The /client/listener url is the callback url passed when registering
        the listener.
      operationId: createClientListener
      requestBody:
        description: The Client Listener to be created.
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/ListenerRequest'
        required: true
      responses:
        201:
          description: Created
          content: {}
        400:
          description: Bad Request
          content: {}
        401:
          description: Unauthorized
          content: {}
        403:
          description: Forbidden
          content: {}
        404:
          description: Not Found
          content: {}
        405:
          description: Method not Allowed
          content: {}
        409:
          description: Conflict
          content: {}
        500:
          description: Internal Server Error
          content: {}
      x-codegen-request-body-name: ListenerBody
components:
  schemas:
    BucketBalance:
      required:
        - bucketType
        - href
        - id
        - product
        - status
        - validFor
      type: object
      properties:
        id:
          type: string
          description: Unique Identifier within the server for the bucket
        href:
          type: string
          description: A resource URI pointing to the resource in the OB that stores
            the detailed information for the bucket
        name:
          type: string
          description: Friendly name to identify the bucket
        description:
          type: string
          description: Text describing the contents of the balance managed by the
            bucket
        bucketType:
          type: string
          description: 'Type of prepay balance bucket (e.g.: promotion, deposit, bonus,
            data, voice, or any other service type)'
        remainedAmount:
          $ref: '#/components/schemas/QuantityType'
        reservedAmount:
          $ref: '#/components/schemas/QuantityType'
        validFor:
          $ref: '#/components/schemas/TimePeriodType'
        status:
          type: string
          description: Status for the balance (active, expired, suspended)
        product:
          type: array
          description: A reference to the product whose consumption is managed by
            the bucket. This is an array to allow scenarios where a given bucket is
            shared between different products.
          items:
            $ref: '#/components/schemas/ProductRefType'
        partyAccount:
          $ref: '#/components/schemas/PartyAccountRefType'
        realizingResource:
          type: array
          description: A reference to the resource that realizes a product. This is
            an array to allow scenarios where a given bucket is shared between different
            resources.
          items:
            $ref: '#/components/schemas/RealizingResourceRefType'
        relatedParty:
          type: array
          description: 'Used to provide information about any other entity with relation
            to the balance, for instance to define customer hierarchy for the balance
            (e.g.: customerId, userId, )'
          items:
            $ref: '#/components/schemas/RelatedPartyRefType'
      description: Represents and tracks the amount remained or owed for a certain
        type of service by certain customer
    AccumulatedBalance:
      required:
        - bucket
        - name
        - product
        - totalBalance
      type: object
      properties:
        name:
          type: string
          description: Friendly name to identify the aggregated balance
        description:
          type: string
          description: Text describing the contents of the aggregated balance
        totalBalance:
          $ref: '#/components/schemas/QuantityType'
        bucket:
          type: array
          description: A reference to the buckets involved in the aggregation
          items:
            $ref: '#/components/schemas/BucketBalanceRefType'
        product:
          type: array
          description: A reference to the product whose consumption is managed by
            the bucket . This is an array to allow scenarios where a buckets are shared
            between different products
          items:
            $ref: '#/components/schemas/ProductRefType'
        partyAccount:
          type: array
          description: A reference to the account that owns the buckets aggregated
          items:
            $ref: '#/components/schemas/PartyAccountRefType'
        relatedParty:
          type: array
          description: 'Used to provide information about any other entity with relation
            to the balance, for instance to define customer hierarchy for the balance
            (e.g.: customerId, userId, )'
          items:
            $ref: '#/components/schemas/RelatedPartyRefType'
      description: Represents and tracks the aggregated amount remained or owed in
        certain account which is owned by certain customer for a set of buckets.
    BalanceTopupBody:
      required:
        - amount
        - channel
        - type
      type: object
      properties:
        type:
          type: string
          description: A preconfigured value that describes a TopUp type which determines
            the prepay balance bucket in which the top-up is done (national-voice,
            roaming-voice, promotional-voice, data, ....)
        channel:
          $ref: '#/components/schemas/ChannelRefType'
        amount:
          $ref: '#/components/schemas/QuantityType'
        product:
          $ref: '#/components/schemas/ProductRefType'
    BalanceTopupRequest:
      description: 'Represents a detailed description of a recharge operation requested
        over a bucket (defined by a specific product or reference to a product (i.e.:
        a commercial id such as an msisidn) and a service type)'
      allOf:
        - $ref: '#/components/schemas/BalanceTopupBody'
    BalanceTransferBody:
      required:
        - amount
        - channel
        - targetId
        - type
      type: object
      properties:
        type:
          type: string
          description: A preconfigured value that describes a TopUp type which determines
            the prepay balance bucket in which the top-up is done (national-voice,
            roaming-voice, promotional-voice, data, ....)
        channel:
          $ref: '#/components/schemas/ChannelRefType'
        targetId:
          type: string
          description: Identifier for the entity that receives the transfer (reference
            to a product via a commercial identifier such as an msisidn that relates
            to an internal product id)
        amount:
          $ref: '#/components/schemas/QuantityType'
        product:
          $ref: '#/components/schemas/ProductRefType'
    BalanceTransferRequest:
      description: The BalanceTransfer resource is a detailed description of credit
        transfer operation requested between two buckets (reference to products owned
        by customers and consuming credit when using a service).
      allOf:
        - $ref: '#/components/schemas/BalanceTransferBody'
    BalanceAdjustmentBody:
      required:
        - amount
        - reason
        - type
      type: object
      properties:
        type:
          type: string
          description: A preconfigured value that describes a TopUp type which determines
            the prepay balance bucket in which the top-up is done (national-voice,
            roaming-voice, promotional-voice, data, ....)
        reason:
          type: string
          description: Text describing the reason for the adjustment
        amount:
          $ref: '#/components/schemas/QuantityType'
        product:
          $ref: '#/components/schemas/ProductRefType'
    BalanceAdjustmentRequest:
      description: 'the BalanceAdjustment resource is a detailed description of credit
        adjustment operation erformed on a given bucket (defined by a specific product
        or reference to a product (i.e.: a commercial id such as an msisidn) and a
        service type)'
      allOf:
        - $ref: '#/components/schemas/BalanceAdjustmentBody'
    BalanceActivity:
      required:
        - action
        - amount
        - bucketBalance
        - date
        - product
        - type
      type: object
      properties:
        type:
          type: string
          description: A preconfigured value that describes a type of balance-related
            performed (topup, transfer, adjustment)
        date:
          type: string
          description: Date when the balance related operation took place
        action:
          $ref: '#/components/schemas/BalanceActionRequestRefType'
        amount:
          $ref: '#/components/schemas/QuantityType'
        bucketBalance:
          $ref: '#/components/schemas/BucketBalanceRefType'
        amountBefore:
          $ref: '#/components/schemas/QuantityType'
        amountAfter:
          $ref: '#/components/schemas/QuantityType'
        product:
          $ref: '#/components/schemas/ProductRefType'
        partyAccount:
          $ref: '#/components/schemas/PartyAccountRefType'
        relatedParty:
          type: array
          description: Used to provide information about any other entity with relation
            to the balance activity
          items:
            $ref: '#/components/schemas/RelatedPartyRefType'
      description: The BalanceActivity resource is a detailed description of a specific
        balance-related action that has happened over a given bucket balance. Typically
        a recharge/transfer/adjustment request creates one activity, but a request
        for an auto-topup operation actually triggers multiple periodic balance-related
        activities.
    BalanceReserveBody:
      required:
        - id
        - relatedParty
        - reservedAmount
      type: object
      properties:
        id:
          type: string
          description: Unique Identifier within the server for the reserve operation
            request
        relatedParty:
          $ref: '#/components/schemas/RelatedPartyRefType'
        reservedAmount:
          $ref: '#/components/schemas/QuantityType'
    BalanceReserveRequest:
      description: 'The Balance Reserve Operation resource is a detailed description
        of a balance reserve operation requested over a bucket (defined by a specific
        product or reference to a product (i.e.: a commercial id such as an msisidn)
        and a service type)'
      allOf:
        - $ref: '#/components/schemas/BalanceReserveBody'
    BalanceUnreserveBody:
      required:
        - balanceReserve
        - id
        - relatedParty
      type: object
      properties:
        id:
          type: string
          description: Unique Identifier within the server for the unreserve operation
            request
        relatedParty:
          $ref: '#/components/schemas/RelatedPartyRefType'
        balanceReserve:
          $ref: '#/components/schemas/BalanceReserveRefType'
    BalanceUnreserveRequest:
      description: The Balance Unreserve Operation resource is a detailed description
        of a balance unreserve operation requested over a product
      allOf:
        - $ref: '#/components/schemas/BalanceUnreserveBody'
    BalanceDeductBody:
      required:
        - balanceReserve
        - id
        - reason
        - relatedParty
      type: object
      properties:
        id:
          type: string
          description: Unique Identifier within the server for the deduction operation
            request
        reason:
          type: string
          description: Text describing the reason for the deduction
        relatedParty:
          $ref: '#/components/schemas/RelatedPartyRefType'
        balanceReserve:
          $ref: '#/components/schemas/BalanceReserveRefType'
    BalanceDeductRequest:
      description: The Balance Deduct task resource is a detailed description of deduction
        operation. If balanceReserve Resource ID is contained in the deduct request
        message, the reserved balance will be performed deduct operation (if part
        of the reserved balance is deducted, the remaining amount will be released);
        if balanceReserve Resource ID is not contained in the deduct request message,
        the balance will be deducted directly.
      allOf:
        - $ref: '#/components/schemas/BalanceDeductBody'
    BalanceReserveRefType:
      required:
        - href
        - id
      type: object
      properties:
        id:
          type: string
          description: Unique identifier for the balance reserve entity
        href:
          type: string
          description: A resource URI pointing to the resource in the OB that stores
            the reserve balance information for a bucket
      description: link to the resource that holds reserved balance information
    BalanceActionRequestRefType:
      required:
        - href
        - id
      type: object
      properties:
        id:
          type: string
          description: Unique identifier for the balance related action request
        href:
          type: string
          description: A resource URI pointing to the resource in the OB that stores
            the request information for the balance-related action
      description: link to the resource that holds balance-related request information
    ChannelRefType:
      required:
        - href
        - id
      type: object
      properties:
        id:
          type: string
          description: Unique identifier for the channel entity
        href:
          type: string
          description: A resource URI pointing to the resource in the OB that stores
            the channel information
        name:
          type: string
          description: Name of the channel
      description: link to the resource that holds information about the channel used
        to initiate the topup operation request
    PaymentMethodRefOrValueType:
      required:
        - href
        - id
      type: object
      properties:
        id:
          type: string
          description: Unique identifier for the channel entity
        href:
          type: string
          description: A resource URI pointing to the resource in the OB that stores
            the channel information
        name:
          type: string
          description: Name of the channel
        type:
          type: string
          description: Type of payment method (bankcard, voucher, )
        details:
          $ref: '#/components/schemas/RelatedPartyRefType'
      description: link to the resource that holds information about the payment mean
        used to complete the operation
    BalanceTransferStatusTypeModify:
      required:
        - status
      type: object
      properties:
        status:
          type: string
    BalanceTopupStatusTypeModify:
      required:
        - status
      type: object
      properties:
        status:
          type: string
          description: Current status of the operation request
    BalanceTopupStatusType:
      description: Structure including specific information about change of status
        for the topup operation
      allOf:
        - $ref: '#/components/schemas/BalanceTopupStatusTypeModify'
    BucketBalanceRefType:
      required:
        - href
        - id
      type: object
      properties:
        id:
          type: string
          description: Unique identifier for the bucket entity
        href:
          type: string
          description: A resource URI pointing to the resource in the OB that stores
            the balance information for a bucket
      description: link to the resource that holds bucket balance information
    ProductRefType:
      required:
        - href
        - id
      type: object
      properties:
        id:
          type: string
          description: Unique identifier for the product entity
        href:
          type: string
          description: A resource URI pointing to the resource in the OB that stores
            the product information
        name:
          type: string
          description: Name of the product
      description: Representation of a resource that holds information about the product
        that is linked to the bucket balance.
    QuantityType:
      required:
        - amount
        - units
      type: object
      properties:
        amount:
          type: number
          description: Measured amount
          format: decimal
        units:
          type: string
          description: Units the quantity is measured in
      description: Representation of a quantity of something. I can also be used to
        represent a quantity range
    TimePeriodType:
      required:
        - startDateTime
      type: object
      properties:
        startDateTime:
          type: string
          description: Start date of the period
          format: date-time
        endDateTime:
          type: string
          description: End date of the period
          format: date-time
      description: Representation of a time period
    PartyAccountRefType:
      required:
        - href
        - id
      type: object
      properties:
        id:
          type: string
          description: Unique identifier for the account entity
        href:
          type: string
          description: A resource URI pointing to the resource in the OB that stores
            the account information
        name:
          type: string
          description: Name of the account
      description: Information about a resource that holds information about the account
        that owns the bucket
    RelatedPartyRefType:
      required:
        - name
        - role
      type: object
      properties:
        id:
          type: string
          description: Unique identifier for the account entity
        href:
          type: string
          description: A resource URI pointing to the resource in the OB that stores
            the account information
        name:
          type: string
          description: Name of the account
        role:
          type: string
          description: Role describing the relationship with the related element
      description: Information about an associated entity and its role
    RealizingResourceRefType:
      type: object
      properties:
        id:
          type: string
          description: Unique identifier of the related party
        href:
          type: string
          description: Reference to the party
        name:
          type: string
          description: Name of the resource
        '@Type':
          type: string
          description: Indicates the type of resource
        value:
          type: string
          description: 'The resource value that can be used to identify a resource
            with a public key (e.g.: a tel nr, an msisdn)'
      description: Information about a resource that holds realizes the product that
        is linked to the bucket balance
    NotificationRequest:
      required:
        - callback
      type: object
      properties:
        callback:
          type: string
    NotificationResponse:
      required:
        - callback
        - id
        - query
      type: object
      properties:
        id:
          type: string
        callback:
          type: string
        query:
          type: string
    ListenerRequest:
      required:
        - event
        - eventId
        - eventType
      type: object
      properties:
        eventId:
          type: string
        eventType:
          type: string
        event:
          $ref: '#/components/schemas/NotificationResponse'
